{% extends "base.html" %}
{% block title %}Eco · Recuperar contraseña{% endblock %}
{% block navhint %}Recuperar{% endblock %}

{% block content %}
<h1>Recuperar contraseña</h1>
<p class="auth-sub">Introduce tu email y define una nueva contraseña.</p>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for m in messages %}
      <p class="auth-error">{{ m }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="post" action="{{ url_for('auth.forgot_password_post') }}" class="auth-form">
  <label for="email">Email</label>
  <input id="email" name="email" type="email" required autocomplete="email">

  <label for="password">Nueva contraseña</label>
  <input id="password" name="password" type="password" required minlength="6" autocomplete="new-password">

  <label for="password2">Repite contraseña</label>
  <input id="password2" name="password2" type="password" required minlength="6" autocomplete="new-password">

  <button type="submit">Actualizar contraseña</button>
</form>

<p class="auth-switch"><a href="{{ url_for('auth.login') }}">Volver a login</a></p>
{% endblock %}
