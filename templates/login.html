{% extends "base.html" %}
{% block title %}Eco · Login{% endblock %}
{% block body_class %}login-page{% endblock %}
{% block navhint %}Entrar{% endblock %}
{% block extra_css %}
  body.login-page .brand .dot{
    display:none;
  }
  body.login-page .brand::before{
    content:"";
    width:28px;
    height:28px;
    display:inline-block;
    background: url("{{ url_for('static', filename='logo_eco_luna.png', v='20260227-3') }}") center / contain no-repeat;
    border-radius: 6px;
  }
  .auth-logo{
    display:block;
    width:min(200px, 56vw);
    margin: 0 auto 14px;
    height:auto;
  }
  @media (max-width: 768px){
    .auth-form input{
      font-size: 16px;
    }
  }
  .auth-remember{
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 2px 0 8px;
    color: rgba(244,241,234,.84);
    font-size: .92rem;
  }
  .auth-remember input{
    width: 16px;
    height: 16px;
    accent-color: #9B2C2C;
  }
{% endblock %}

{% block content %}
<img
  src="{{ url_for('static', filename='logo_eco_luna.png', v='20260227-3') }}"
  alt="Logo Eco"
  class="auth-logo"
>
<h1>Entrar</h1>
<p class="auth-sub">Accede a tu cuenta.</p>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for m in messages %}
      <p class="auth-error">{{ m }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="post" action="{{ url_for('auth.login_post') }}" class="auth-form">
  <label for="email">Email</label>
  <input id="email" name="email" type="email" required autocomplete="email">

  <label for="password">Contraseña</label>
  <input id="password" name="password" type="password" required autocomplete="current-password">

  <label class="auth-remember" for="remember">
    <input id="remember" name="remember" type="checkbox" value="1">
    <span>Mantener sesión abierta</span>
  </label>

  <button type="submit">Entrar</button>
</form>

<p class="auth-switch"><a href="{{ url_for('auth.forgot_password') }}">Olvidé mi contraseña</a></p>
<p class="auth-switch">¿No tienes cuenta? <a href="{{ url_for('auth.register') }}">Regístrate</a></p>
{% endblock %}
